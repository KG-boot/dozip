<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="partEstimate">
    <!--계약 요청중인 견적서 -->
    <select id="est_list" resultType="EstimateVO">
        select * from estimateT where est_check != '대기중'
    </select>

    <!--계약 요청중인 입찰테이블 -->
    <select id="est_list2" resultType="BidVO">
        select * from bidT where bid_state='계약요청'
    </select>

    <!--계약서에 입력할 정보 불러오기 -->
    <select id="write_contract" resultType="EstimateVO">
        select * from estimateT where est_num=#{est_num} and est_check='계약요청'
    </select>

    <!--계약서 정보 insert -->
    <select id="contract_in" resultType="int">
        insert into CONTRACTT values(contractT_no_seq.nextval, #{est_num}, #{mem_id}, #{businessNum},#{cont_title},#{cont_location},#{cont_area},#{cont_start},#{cont_end},#{cont_total},#{cont_cost1},#{cont_date1},#{cont_cost2},#{cont_date2},#{cont_cost3},#{cont_date3},#{cont_date},#{customer_name},#{customer_addr},#{customer_number},#{customer_tel},#{partners_name},#{partners_addr},#{partners_tel})
    </select>
</mapper>




